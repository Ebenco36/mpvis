{"ast":null,"code":"import { getPositionScaleChannel } from '../channel';\nimport { signalRefOrValue } from '../compile/common';\nexport function isFitType(autoSizeType) {\n  return autoSizeType === 'fit' || autoSizeType === 'fit-x' || autoSizeType === 'fit-y';\n}\nexport function getFitType(sizeType) {\n  return sizeType ? `fit-${getPositionScaleChannel(sizeType)}` : 'fit';\n}\nconst TOP_LEVEL_PROPERTIES = ['background', 'padding'\n// We do not include \"autosize\" here as it is supported by only unit and layer specs and thus need to be normalized\n];\n\nexport function extractTopLevelProperties(t, includeParams) {\n  const o = {};\n  for (const p of TOP_LEVEL_PROPERTIES) {\n    if (t && t[p] !== undefined) {\n      o[p] = signalRefOrValue(t[p]);\n    }\n  }\n  if (includeParams) {\n    o.params = t.params;\n  }\n  return o;\n}","map":{"version":3,"names":["getPositionScaleChannel","signalRefOrValue","isFitType","autoSizeType","getFitType","sizeType","TOP_LEVEL_PROPERTIES","extractTopLevelProperties","t","includeParams","o","p","undefined","params"],"sources":["../../../src/spec/toplevel.ts"],"sourcesContent":[null],"mappings":"AAEA,SAAQA,uBAAuB,QAAO,YAAY;AAClD,SAAQC,gBAAgB,QAAO,mBAAmB;AA8ElD,OAAM,SAAUC,SAASA,CAACC,YAA0B;EAClD,OAAOA,YAAY,KAAK,KAAK,IAAIA,YAAY,KAAK,OAAO,IAAIA,YAAY,KAAK,OAAO;AACvF;AAEA,OAAM,SAAUC,UAAUA,CAACC,QAA6B;EACtD,OAAOA,QAAQ,GAAI,OAAOL,uBAAuB,CAACK,QAAQ,CAAC,EAAc,GAAG,KAAK;AACnF;AA2BA,MAAMC,oBAAoB,GAAiC,CACzD,YAAY,EACZ;AACA;AAAA,CACD;;AAED,OAAM,SAAUC,yBAAyBA,CAACC,CAAqB,EAAEC,aAAsB;EACrF,MAAMC,CAAC,GAAkC,EAAE;EAC3C,KAAK,MAAMC,CAAC,IAAIL,oBAAoB,EAAE;IACpC,IAAIE,CAAC,IAAIA,CAAC,CAACG,CAAC,CAAC,KAAKC,SAAS,EAAE;MAC3BF,CAAC,CAACC,CAAQ,CAAC,GAAGV,gBAAgB,CAACO,CAAC,CAACG,CAAC,CAAC,CAAC;;;EAGxC,IAAIF,aAAa,EAAE;IACjBC,CAAC,CAACG,MAAM,GAAGL,CAAC,CAACK,MAAM;;EAErB,OAAOH,CAAC;AACV"},"metadata":{},"sourceType":"module","externalDependencies":[]}