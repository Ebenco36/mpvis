{"ast":null,"code":"import { isObject } from 'vega';\nimport { isString } from 'vega-util';\nimport * as CHANNEL from './channel';\nimport { isColorChannel } from './channel';\nimport * as log from './log';\nimport { NOMINAL, ORDINAL, QUANTITATIVE, TEMPORAL } from './type';\nimport { contains, keys } from './util';\nexport const ScaleType = {\n  // Continuous - Quantitative\n  LINEAR: 'linear',\n  LOG: 'log',\n  POW: 'pow',\n  SQRT: 'sqrt',\n  SYMLOG: 'symlog',\n  IDENTITY: 'identity',\n  SEQUENTIAL: 'sequential',\n  // Continuous - Time\n  TIME: 'time',\n  UTC: 'utc',\n  // Discretizing scales\n  QUANTILE: 'quantile',\n  QUANTIZE: 'quantize',\n  THRESHOLD: 'threshold',\n  BIN_ORDINAL: 'bin-ordinal',\n  // Discrete scales\n  ORDINAL: 'ordinal',\n  POINT: 'point',\n  BAND: 'band'\n};\n/**\n * Index for scale categories -- only scale of the same categories can be merged together.\n * Current implementation is trying to be conservative and avoid merging scale type that might not work together\n */\nexport const SCALE_CATEGORY_INDEX = {\n  linear: 'numeric',\n  log: 'numeric',\n  pow: 'numeric',\n  sqrt: 'numeric',\n  symlog: 'numeric',\n  identity: 'numeric',\n  sequential: 'numeric',\n  time: 'time',\n  utc: 'time',\n  ordinal: 'ordinal',\n  'bin-ordinal': 'bin-ordinal',\n  point: 'ordinal-position',\n  band: 'ordinal-position',\n  quantile: 'discretizing',\n  quantize: 'discretizing',\n  threshold: 'discretizing'\n};\nexport const SCALE_TYPES = keys(SCALE_CATEGORY_INDEX);\n/**\n * Whether the two given scale types can be merged together.\n */\nexport function scaleCompatible(scaleType1, scaleType2) {\n  const scaleCategory1 = SCALE_CATEGORY_INDEX[scaleType1];\n  const scaleCategory2 = SCALE_CATEGORY_INDEX[scaleType2];\n  return scaleCategory1 === scaleCategory2 || scaleCategory1 === 'ordinal-position' && scaleCategory2 === 'time' || scaleCategory2 === 'ordinal-position' && scaleCategory1 === 'time';\n}\n/**\n * Index for scale precedence -- high score = higher priority for merging.\n */\nconst SCALE_PRECEDENCE_INDEX = {\n  // numeric\n  linear: 0,\n  log: 1,\n  pow: 1,\n  sqrt: 1,\n  symlog: 1,\n  identity: 1,\n  sequential: 1,\n  // time\n  time: 0,\n  utc: 0,\n  // ordinal-position -- these have higher precedence than continuous scales as they support more types of data\n  point: 10,\n  band: 11,\n  // non grouped types\n  ordinal: 0,\n  'bin-ordinal': 0,\n  quantile: 0,\n  quantize: 0,\n  threshold: 0\n};\n/**\n * Return scale categories -- only scale of the same categories can be merged together.\n */\nexport function scaleTypePrecedence(scaleType) {\n  return SCALE_PRECEDENCE_INDEX[scaleType];\n}\nexport const QUANTITATIVE_SCALES = new Set(['linear', 'log', 'pow', 'sqrt', 'symlog']);\nexport const CONTINUOUS_TO_CONTINUOUS_SCALES = new Set([...QUANTITATIVE_SCALES, 'time', 'utc']);\nexport function isQuantitative(type) {\n  return QUANTITATIVE_SCALES.has(type);\n}\nexport const CONTINUOUS_TO_DISCRETE_SCALES = new Set(['quantile', 'quantize', 'threshold']);\nexport const CONTINUOUS_DOMAIN_SCALES = new Set([...CONTINUOUS_TO_CONTINUOUS_SCALES, ...CONTINUOUS_TO_DISCRETE_SCALES, 'sequential', 'identity']);\nexport const DISCRETE_DOMAIN_SCALES = new Set(['ordinal', 'bin-ordinal', 'point', 'band']);\nexport const TIME_SCALE_TYPES = new Set(['time', 'utc']);\nexport function hasDiscreteDomain(type) {\n  return DISCRETE_DOMAIN_SCALES.has(type);\n}\nexport function hasContinuousDomain(type) {\n  return CONTINUOUS_DOMAIN_SCALES.has(type);\n}\nexport function isContinuousToContinuous(type) {\n  return CONTINUOUS_TO_CONTINUOUS_SCALES.has(type);\n}\nexport function isContinuousToDiscrete(type) {\n  return CONTINUOUS_TO_DISCRETE_SCALES.has(type);\n}\nexport const defaultScaleConfig = {\n  pointPadding: 0.5,\n  barBandPaddingInner: 0.1,\n  rectBandPaddingInner: 0,\n  bandWithNestedOffsetPaddingInner: 0.2,\n  bandWithNestedOffsetPaddingOuter: 0.2,\n  minBandSize: 2,\n  minFontSize: 8,\n  maxFontSize: 40,\n  minOpacity: 0.3,\n  maxOpacity: 0.8,\n  // FIXME: revise if these *can* become ratios of width/height step\n  minSize: 9,\n  minStrokeWidth: 1,\n  maxStrokeWidth: 4,\n  quantileCount: 4,\n  quantizeCount: 4,\n  zero: true\n};\nexport function isExtendedScheme(scheme) {\n  return !isString(scheme) && !!scheme['name'];\n}\nexport function isParameterDomain(domain) {\n  return domain?.['param'];\n}\nexport function isDomainUnionWith(domain) {\n  return domain?.['unionWith'];\n}\nexport function isFieldRange(range) {\n  return isObject(range) && 'field' in range;\n}\nconst SCALE_PROPERTY_INDEX = {\n  type: 1,\n  domain: 1,\n  domainMax: 1,\n  domainMin: 1,\n  domainMid: 1,\n  domainRaw: 1,\n  align: 1,\n  range: 1,\n  rangeMax: 1,\n  rangeMin: 1,\n  scheme: 1,\n  bins: 1,\n  // Other properties\n  reverse: 1,\n  round: 1,\n  // quantitative / time\n  clamp: 1,\n  nice: 1,\n  // quantitative\n  base: 1,\n  exponent: 1,\n  constant: 1,\n  interpolate: 1,\n  zero: 1,\n  // band/point\n  padding: 1,\n  paddingInner: 1,\n  paddingOuter: 1\n};\nexport const SCALE_PROPERTIES = keys(SCALE_PROPERTY_INDEX);\nconst {\n  type,\n  domain,\n  range,\n  rangeMax,\n  rangeMin,\n  scheme,\n  ...NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTY_INDEX\n} = SCALE_PROPERTY_INDEX;\nexport const NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES = keys(NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTY_INDEX);\nexport function scaleTypeSupportProperty(scaleType, propName) {\n  switch (propName) {\n    case 'type':\n    case 'domain':\n    case 'reverse':\n    case 'range':\n      return true;\n    case 'scheme':\n    case 'interpolate':\n      return !['point', 'band', 'identity'].includes(scaleType);\n    case 'bins':\n      return !['point', 'band', 'identity', 'ordinal'].includes(scaleType);\n    case 'round':\n      return isContinuousToContinuous(scaleType) || scaleType === 'band' || scaleType === 'point';\n    case 'padding':\n    case 'rangeMin':\n    case 'rangeMax':\n      return isContinuousToContinuous(scaleType) || ['point', 'band'].includes(scaleType);\n    case 'paddingOuter':\n    case 'align':\n      return ['point', 'band'].includes(scaleType);\n    case 'paddingInner':\n      return scaleType === 'band';\n    case 'domainMax':\n    case 'domainMid':\n    case 'domainMin':\n    case 'domainRaw':\n    case 'clamp':\n      return isContinuousToContinuous(scaleType);\n    case 'nice':\n      return isContinuousToContinuous(scaleType) || scaleType === 'quantize' || scaleType === 'threshold';\n    case 'exponent':\n      return scaleType === 'pow';\n    case 'base':\n      return scaleType === 'log';\n    case 'constant':\n      return scaleType === 'symlog';\n    case 'zero':\n      return hasContinuousDomain(scaleType) && !contains(['log', 'time', 'utc', 'threshold', 'quantile' // quantile depends on distribution so zero does not matter\n      ], scaleType);\n  }\n}\n/**\n * Returns undefined if the input channel supports the input scale property name\n */\nexport function channelScalePropertyIncompatability(channel, propName) {\n  switch (propName) {\n    case 'interpolate':\n    case 'scheme':\n    case 'domainMid':\n      if (!isColorChannel(channel)) {\n        return log.message.cannotUseScalePropertyWithNonColor(propName);\n      }\n      return undefined;\n    case 'align':\n    case 'type':\n    case 'bins':\n    case 'domain':\n    case 'domainMax':\n    case 'domainMin':\n    case 'domainRaw':\n    case 'range':\n    case 'base':\n    case 'exponent':\n    case 'constant':\n    case 'nice':\n    case 'padding':\n    case 'paddingInner':\n    case 'paddingOuter':\n    case 'rangeMax':\n    case 'rangeMin':\n    case 'reverse':\n    case 'round':\n    case 'clamp':\n    case 'zero':\n      return undefined;\n    // GOOD!\n  }\n}\n\nexport function scaleTypeSupportDataType(specifiedType, fieldDefType) {\n  if (contains([ORDINAL, NOMINAL], fieldDefType)) {\n    return specifiedType === undefined || hasDiscreteDomain(specifiedType);\n  } else if (fieldDefType === TEMPORAL) {\n    return contains([ScaleType.TIME, ScaleType.UTC, undefined], specifiedType);\n  } else if (fieldDefType === QUANTITATIVE) {\n    return isQuantitative(specifiedType) || isContinuousToDiscrete(specifiedType) || specifiedType === undefined;\n  }\n  return true;\n}\nexport function channelSupportScaleType(channel, scaleType, hasNestedOffsetScale = false) {\n  if (!CHANNEL.isScaleChannel(channel)) {\n    return false;\n  }\n  switch (channel) {\n    case CHANNEL.X:\n    case CHANNEL.Y:\n    case CHANNEL.XOFFSET:\n    case CHANNEL.YOFFSET:\n    case CHANNEL.THETA:\n    case CHANNEL.RADIUS:\n      if (isContinuousToContinuous(scaleType)) {\n        return true;\n      } else if (scaleType === 'band') {\n        return true;\n      } else if (scaleType === 'point') {\n        /*\n          Point scale can't be use if the position has a nested offset scale\n          because if there is a nested scale, then it's band.\n        */\n        return !hasNestedOffsetScale;\n      }\n      return false;\n    case CHANNEL.SIZE: // TODO: size and opacity can support ordinal with more modification\n    case CHANNEL.STROKEWIDTH:\n    case CHANNEL.OPACITY:\n    case CHANNEL.FILLOPACITY:\n    case CHANNEL.STROKEOPACITY:\n    case CHANNEL.ANGLE:\n      // Although it generally doesn't make sense to use band with size and opacity,\n      // it can also work since we use band: 0.5 to get midpoint.\n      return isContinuousToContinuous(scaleType) || isContinuousToDiscrete(scaleType) || contains(['band', 'point', 'ordinal'], scaleType);\n    case CHANNEL.COLOR:\n    case CHANNEL.FILL:\n    case CHANNEL.STROKE:\n      return scaleType !== 'band';\n    // band does not make sense with color\n    case CHANNEL.STROKEDASH:\n    case CHANNEL.SHAPE:\n      return scaleType === 'ordinal' || isContinuousToDiscrete(scaleType);\n  }\n}","map":{"version":3,"names":["isObject","isString","CHANNEL","isColorChannel","log","NOMINAL","ORDINAL","QUANTITATIVE","TEMPORAL","contains","keys","ScaleType","LINEAR","LOG","POW","SQRT","SYMLOG","IDENTITY","SEQUENTIAL","TIME","UTC","QUANTILE","QUANTIZE","THRESHOLD","BIN_ORDINAL","POINT","BAND","SCALE_CATEGORY_INDEX","linear","pow","sqrt","symlog","identity","sequential","time","utc","ordinal","point","band","quantile","quantize","threshold","SCALE_TYPES","scaleCompatible","scaleType1","scaleType2","scaleCategory1","scaleCategory2","SCALE_PRECEDENCE_INDEX","scaleTypePrecedence","scaleType","QUANTITATIVE_SCALES","Set","CONTINUOUS_TO_CONTINUOUS_SCALES","isQuantitative","type","has","CONTINUOUS_TO_DISCRETE_SCALES","CONTINUOUS_DOMAIN_SCALES","DISCRETE_DOMAIN_SCALES","TIME_SCALE_TYPES","hasDiscreteDomain","hasContinuousDomain","isContinuousToContinuous","isContinuousToDiscrete","defaultScaleConfig","pointPadding","barBandPaddingInner","rectBandPaddingInner","bandWithNestedOffsetPaddingInner","bandWithNestedOffsetPaddingOuter","minBandSize","minFontSize","maxFontSize","minOpacity","maxOpacity","minSize","minStrokeWidth","maxStrokeWidth","quantileCount","quantizeCount","zero","isExtendedScheme","scheme","isParameterDomain","domain","isDomainUnionWith","isFieldRange","range","SCALE_PROPERTY_INDEX","domainMax","domainMin","domainMid","domainRaw","align","rangeMax","rangeMin","bins","reverse","round","clamp","nice","base","exponent","constant","interpolate","padding","paddingInner","paddingOuter","SCALE_PROPERTIES","NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTY_INDEX","NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES","scaleTypeSupportProperty","propName","includes","channelScalePropertyIncompatability","channel","message","cannotUseScalePropertyWithNonColor","undefined","scaleTypeSupportDataType","specifiedType","fieldDefType","channelSupportScaleType","hasNestedOffsetScale","isScaleChannel","X","Y","XOFFSET","YOFFSET","THETA","RADIUS","SIZE","STROKEWIDTH","OPACITY","FILLOPACITY","STROKEOPACITY","ANGLE","COLOR","FILL","STROKE","STROKEDASH","SHAPE"],"sources":["../../src/scale.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}